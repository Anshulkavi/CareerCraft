services:
  - type: web
    name: careercraft-backend
    env: docker
    plan: free
    repo: https://github.com/Anshulkavi/CareerCraft
    branch: main
    dockerfilePath: backend/Dockerfile
    autoDeploy: true
    startCommand: gunicorn backend.wsgi:application --bind 0.0.0.0:$PORT --timeout 120
    envVars:
      - key: DJANGO_SETTINGS_MODULE
        value: backend.settings
      - key: PORT
        value: "8000"
      - key: MONGODB_URI
        value: mongodb+srv://{John}{JohnDoe256}@resumejobf.hm4jqor.mongodb.net/resumejobf?retryWrites=true&w=majority
      - key: REDIS_URL
        value: rediss://default:AXkdAAIjcDFlNWYxNjQ1YWQ3M2M0ZGJmYTMwZThhMDkyZmIwYjg2YnAxMA@free-hyena-31005.upstash.io:6379  